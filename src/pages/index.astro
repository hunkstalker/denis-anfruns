---
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Header from '../components/Header.astro';
import SocialLinks from '../components/SocialLinks.astro';

const siteTitle = `Denis A. M. Portfolio`;
const lang = 'es';
---
<script is:inline>
  const userLang = navigator.language || navigator.userLanguage; 
  if (window.location.pathname === '/') {
    if (userLang.startsWith('ca')) {
      window.location.href = '/ca';
    } else if (!userLang.startsWith('es')) {
      window.location.href = '/en';
    }
  }
</script>
<BaseLayout siteTitle={siteTitle} lang={lang}>
  <Nav lang={lang} />
  <div class='flex-1 container'>
    <Header lang={lang} />
    <SocialLinks />
  </div>
</BaseLayout>