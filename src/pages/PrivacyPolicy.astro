---
import { getEntry } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

const page = await getEntry('privacy', 'es');
if (!page) throw new Error('Spanish privacy policy not found');

const { Content } = await page.render();
---

<BaseLayout siteTitle={page.data.title} lang="es">
  <main class="privacy">
    <Content />
    <button id="back-btn" class="hidden mt-8 px-6 py-3 text-sm font-bold text-zinc-200 uppercase transition-colors duration-200 transform bg-zinc-800 rounded-lg hover:bg-zinc-500">Volver</button>

    <script>
      const backBtn = document.getElementById('back-btn');
      if (backBtn && document.referrer && document.referrer.indexOf(window.location.host) !== -1) {
        backBtn.classList.remove('hidden');
        backBtn.addEventListener('click', () => {
          history.back();
        });
      }
    </script>
  </main>

  <style is:global>
    .privacy {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
      line-height: 1.7;
      font-size: 1.05rem;
    }
    .privacy h1 { font-weight: 700; margin-top: 1.6rem; font-size: 2rem; }
    .privacy h2 { font-weight: 700; margin-top: 1.6rem; font-size: 1.5rem; }
    .privacy p { margin-bottom: 1rem; }
    .privacy ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; }
    .privacy a { color: oklch(75% 0.183 55.934); text-decoration: none; font-weight: bold; }
  </style>
</BaseLayout>