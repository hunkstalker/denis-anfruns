---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Nav from '../../components/Nav.astro';
import Header from '../../components/Header.astro';
import TopProjects from '../../components/TopProjects.astro';
import SeasonalEffect from '../../components/SeasonalEffect.svelte';
import KonamiCode from '../../components/KonamiCode.svelte';
import MegaManEasterEgg from '../../components/MegaManEasterEgg.svelte';
import '../../styles/curtain.css';

export function getStaticPaths() {
  return [
    { params: { lang: 'ca' as const } },
    { params: { lang: 'en' as const } }
  ];
}

const { lang } = Astro.params as { lang: 'ca' | 'en' };
const siteTitle = `Denis A. M. Portfolio`;
---
<BaseLayout siteTitle={siteTitle} lang={lang}>
  <Nav lang={lang} />
  <div class='flex-1 container'>
    <Header lang={lang} />
    <TopProjects lang={lang} />
  </div>
  
  <!-- ðŸ‚â„ï¸ Seasonal Effect (unlocked by Konami Code) -->
  <SeasonalEffect client:load particleCount={60} speed={0.8} />
  
  <!-- ðŸŽ® Konami Code Easter Egg (Press Space to start) -->
  <KonamiCode client:load />
  
  <!-- ðŸ¤– Mega Man Easter Egg (Type "MEGAMAN") -->
  <MegaManEasterEgg client:load />
</BaseLayout>
