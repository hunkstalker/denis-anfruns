---
import { projects } from '../data/projects';
import ProjectCarousel from './ProjectCarousel.svelte';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const projectCount = projects.length;
---

<section class="pt-2 pb-12 px-4">
  <div class="container mx-auto max-w-7xl">
    <ProjectCarousel client:visible projects={projects} />
    <div class="flex justify-end mt-4">
      <a href={`/${lang}/projects`} class="text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white transition-colors text-sm font-medium flex items-center gap-1">
        {t('home.viewAllProjects', projectCount)} 
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
      </a>
    </div>
  </div>
</section>
