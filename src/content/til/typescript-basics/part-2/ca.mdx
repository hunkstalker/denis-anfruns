---
title: 'TypeScript # 2: Tipus Literals i Unions'
description: 'Com dir-li a TypeScript que alguna cosa nom√©s pot ser "A" o "B" i res m√©s. Ad√©u als strings m√†gics.'
lang: 'ca'
---
import CodeTabs from '../../../../components/mdx/CodeTabs.astro';
import Callout from '../../../../components/mdx/Callout.astro';
import TSEditor from '../../../../components/learn/TSEditor.tsx';

A la Part 1 vam veure que `const` crea tipus **literals**.
Si escrius `const rol = "admin"`, per a TypeScript `rol` no √©s un simple `string`, sin√≥ que √©s espec√≠ficament `"admin"`.

Avui veurem com utilitzar aix√≤ per crear codi a prova de bales.

## String vs. String Literal

Imagina que tens una funci√≥ per pintar un bot√≥.

<CodeTabs
  status="error"
  items={[
    {
		label: 'TypeScript',
		code: `function pintarBoto(color: string) {
    if (color === 'vermll') { // ‚ùå Ups, error de dit ("vermll" en lloc de "vermell")
        return 'üî¥';
    }
    return 'üîµ';
}

pintarBoto("blau"); // ‚úÖ B√©
pintarBoto("patata ü•î"); // ‚úÖ B√© (per√≤ no hauria, patata no √©s un color!)`,
		lang: 'typescript'
    }
]} />

El problema aqu√≠ √©s que `string` √©s **massa ampli**. Admet "blau", "vermell", i tamb√© "patata ü•î" o "asdfg".

## La Uni√≥ de Tipus

Aqu√≠ √©s on entra l'operador `|` (pipe). Es llegeix com **"O"**.
Podem dir-li a TypeScript: *"El color nom√©s pot ser 'vermell' O 'blau' O 'verd'"*.

<CodeTabs
  status="success"
  items={[
  {
    label: 'TypeScript',
    code: `type ColorBoto = "vermell" | "blau" | "verd";

function pintarBoto(color: ColorBoto) {
    // ...
}

pintarBoto("vermell");   // ‚úÖ Perfecte
pintarBoto("verd");  // ‚úÖ Perfecte
pintarBoto("patata ü•î");
// ‚ùå Error: Argument of type '"patata ü•î"' is not assignable to parameter of type 'ColorBoto'.`,
    lang: 'typescript'
    }
  ]} />

Bum! üí• Acabes d'eliminar una categoria sencera de bugs. Ja ning√∫ pot passar una cadena incorrecta a la teva funci√≥.

## L'Autocompletat (IntelliSense)

El millor d'aix√≤ no √©s nom√©s la seguretat, √©s l'**experi√®ncia de desenvolupament**.

**Prova-ho tu mateix:** Posa't entre les cometes i prem Ctrl + Espai a cadascuna. A la primera no hi ha suggeriments (√©s un `string` gen√®ric). A la segona l'editor et suggereix les opcions v√†lides.

import validationCode from './validation.ts?raw';

<div className="mb-8">
  <TSEditor
    client:only="react"
    height="480px"
    showConsole={true}
    allowAddFile={false}
    validationCode={validationCode}
    successSound="/audio/grunt-birthday-party-sound.mp3"
    files={{
      'sense-tipus.ts': `// Sense autocompletat - accepta qualsevol string
  function enviarString(missatge: string) {
      console.log("Missatge:", missatge);
  }

  // Posa't entre les cometes i prem Ctrl + Espai, veur√†s que NO et surten suggeriments
  enviarString("");
  `,
      'amb-tipus.ts': `// Amb autocompletat - nom√©s valors espec√≠fics
  type Resposta = "yes" | "no" | "maybe";

  function enviarResposta(resposta: Resposta) {
      console.log("La teva resposta:", resposta);
  }

  // Aqu√≠ S√ç et sortiran suggeriments, a m√©s TS ja t'avisa d'un error,
  // ja que un string buit no √©s un valor que haguem configurat com a v√†lid
  enviarResposta("");
  `
    }}
/>
</div>

No has d'anar a la documentaci√≥ per saber quins valors acceptava. El propi tipus et diu quins valors accepta.

## Unions Mixtes

Pots barrejar tipus si vols (encara que utilitza-ho amb cap):

<CodeTabs items={[
  {
  label: 'TypeScript',
  code: `// Un ID pot ser un n√∫mero (ID de base de dades) o un string (UUID)
type ID = number | string;

function buscarUsuari(id: ID) {
    console.log("Buscant usuari amb ID:", id);
}

buscarUsuari(123); // ‚úÖ
buscarUsuari("abc-123"); // ‚úÖ`,
  lang: 'typescript'
  }
]} />

## Resum

*   **Tipus Literals**: Valors exactes (`"vermell"`, `1`).
*   **Unions (`|`)**: Combinar tipus (`A | B` vol dir A o B).
*   Utilitza-ho per evitar "Magic Strings" i guanyar autocompletat gratis.

A la propera part veurem com **Tipar Objectes** i Interf√≠cies per deixar de passar objectes an√≤nims sense control per la nostra aplicaci√≥.
