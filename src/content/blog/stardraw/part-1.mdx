---
title: 'StarDraw ‚ú®'
description: 'Inicio del desarrollo de StarDraw, un proyecto para dominar React y crear mi primer proyecto p√∫blico.'
pubDate: '2025-11-22 20:28'
# updatedDate: '2025-12-07 19:00'
tags: ['react', 'stardraw', 'excalidraw']
series: 'StarDraw'
heroImage: '/assets/stardraw/hero-stardraw.png'
descriptionHeroImage: 'Captura de un test probando Konva'
---

import CodeTabs from '../../../components/mdx/CodeTabs.astro';

Inicio la secci√≥n con este art√≠culo dedicado al desarrollo de una aplicaci√≥n para crear anotaciones y diagramas. Cada proyecto lo empezar√© dividiendo las ideas y analizando las necesidades. Y seguir√°n con el proceso de desarrollo seg√∫n vaya avanzando.

## Mi objetivo

Lo que pretendo es pelear con <span class='text-[--tangerine]'>React</span> para aprenderlo mejor junto a <span class='text-[--tangerine]'>TypeScript</span> creando una aplicaci√≥n desde cero y utilizando tecnolog√≠as modernas. La idea nace simplemente de la necesidad, ya que en el trabajo estoy intentando diversificar mi perfil porque hasta ahora llevo 4 a√±os con <span class='text-[--tangerine]'>Power Apps</span>, unos pocos meses en la soluci√≥n de errores de estilos en proyectos ya en producci√≥n con React y en mi propio sitio desarrollado en <span class='text-[--tangerine]'>Astro</span>. Finalmente necesito rellenar mi portfolio con alg√∫n proyecto as√≠ que si este proyecto tiene √©xito podr√≠a ser el primero.

Ya de paso, tambi√©n este proyecto me da contenido para darle algo de vidilla a mi portfolio y crear algo que ten√≠a ganas de hacer desde hace mucho mucho tiempo, un jard√≠n digital. Un lugar donde dejar mis ideas, descubrimientos o progresos en el desarrollo.

En el transcurso de desarrollo de este proyecto, StarDraw ‚ú®üòé no busco s√≥lo clonar funcionalidades, sino ya de paso <span class='text-[--tangerine]'>entender el "c√≥mo" funcionan algunas cosas por detr√°s</span> y aportar algunas ideas propias que hagan mi herramienta m√°s √∫til de lo que a mi me ofrece Excalidraw. El proyecto ser√° FOSS y se publicar√° en GitHub para que cualquiera pueda usarlo o contribuir. Adem√°s, sopesar√© la idea de mantenerla en producci√≥n si no se disparan los costes.

Llegados a esto, las tecnolog√≠as que est√°n decididas son:

- React 19 + Vite + TypeScript

Y las alternativas en respectivas tecnolog√≠as que me planteo investigar son:

- Konva o Fabric.js
- Overwatch o Zustand
- SortableJS o React DnD

### La idea

Mientras aprendo, quiero construir un clon de Excalidraw pero personalizado a mi gusto, tanto en dise√±o como en funcionalidades, con algunos extras dado que echo en falta cosas en la herramienta original.

- Mejor control de los colores en modo oscuro.
- Guardar/exportar directamente una imagen PNG/JPG de cualquier elemento seleccionado del canvas.
- Ajuste de cuadr√≠cula para los elementos.
- M√°s opciones de tipograf√≠a para los textos.
- Mejor gesti√≥n de tama√±os de texto.
- Mejor gesti√≥n de colores de texto.
- Soporte para diagramas tipo de nodos o bases de datos.

Partes importantes que quiero mantener son la <span class='text-[--tangerine]'>filosof√≠a "local first"</span> y la posibilidad de exportar los proyectos en un formato que m√°s tarde se pueda cargar y continuar editando.

### Stack Tecnol√≥gico

#### 1. React 19 + Vite + TypeScript
No he trabajado mucho en proyectos desde cero con React, pero por todo lo que tengo le√≠do hasta ahora s√© que es una tecnolog√≠a madura, de largo recorrido y con muchas bibliotecas que le dan soporte que facilitan hacer mucha varieda de cosas, y por eso la elijo. Pero lo m√°s importante, como mencion√©, tengo en concreto la necesidad de aprenderlo bien por mi trabajo junto a TypeScript as√≠ que esto est√° decidido desde el inicio.

#### 2. Biblioteca de canvas
Esta ser√≠a la pieza m√°s importante del proyecto, obviamente es algo que no voy a construir de cero, hoy no ü§£, y como no tengo ni idea de c√≥mo desarrollar este tipo de aplicaci√≥n le pregunto a Gemini 3 a ver qu√© me recomienda usar y su respuesta es <span class='text-[--tangerine]'>Konva</span>. Seg√∫n me dice, Konva es una biblioteca para el manejo del canvas.

<div class="bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl rounded-tl-none border border-blue-100 dark:border-blue-800/50 text-blue-900 dark:text-blue-100 relative mb-6 mt-2 shadow-sm">
  <p class="m-0 italic">"Trabajar directamente con la API de Canvas del navegador es verboso y complejo de mantener. Konva nos ofrece una abstracci√≥n orientada a objetos (capas, grupos, formas) y `react-konva` nos permite manejarlo de forma declarativa, integr√°ndose perfectamente con el ciclo de vida de React."</p>
</div>

Bueno, y como no me voy a quedar con la primera opci√≥n sigo buscando alternativas, y por el camino descubro <span class='text-[--tangerine]'>Fabric.js</span>, que tambi√©n es una biblioteca para el manejo del canvas bastante utilizada. Ante la indecisi√≥n y como soy un poco forofo del rendimiento busco documentaci√≥n al respecto y encuentro un art√≠culo reciente.

<a href="https://medium.com/@www.blog4j.com/konva-js-vs-fabric-js-in-depth-technical-comparison-and-use-case-analysis-9c247968dd0f" target="_blank noreferrer noopener">Konva.js vs Fabric.js: In-depth Technical Comparison and Use Case Analysis</a>

La conclusi√≥n que se saca es que Konva ofrece un mejor rendimiento cuando se enfrenta a mucha carga. Aunque Fabric.js no es mala biblioteca en absoluto, su ventaja es que es m√°s f√°cil de utilizar a cambio de menor rendimiento.

Es dif√≠cil decidir, lo que pienso es que es probable que el rendimiento que ofrece Konva no lo llegue a aprovechar nunca ya que explican que est√° orientado a la creaci√≥n de juegos, y eso es decir mucho. Fabric.js por su lado es probable que me ayude no a calentarme demasiado la cabeza y por lo tanto a no perder demasiado tiempo... ¬°y oye! si cambio de opini√≥n creo que nunca es tarde para refactorizar y probar con Konva una vez el proyecto est√© terminado. As√≠ que por ahora creo que probar√© con Fabric.js.

#### 3. Manejo de estados globales
Esto lo tengo bastante claro. <span class='text-[--tangerine]'>Zustand</span> es una biblioteca ligera y muy utilizada. No es la √∫nica opci√≥n, y por el camino leo sobre un nuevo competidor que tiene mucho mejor rendimiento, <span class='text-[--tangerine]'>Overwatch TS</span>, pero me quedo con Zustand porque tampoco es plan de complicarme. Me apunto lo de Overwatch para alg√∫n futuro proyecto. Aqu√≠ la meta es aprender React y para eso no debo complicarme demasiado, adem√°s esta filosof√≠a es la correcta si no quiero terminar abandonando el proyecto, necesito romper la barrera y publicar mi primer proyecto.

Os dejo con un art√≠culo que compara dos de las principales bibliotecas de manejo de estados globales y Overwatch TS. O sea, de verdad, si es cierto lo de Overwatch TS parece que les pasa la mano por la cara. Pero es un poco el mismo caso de Konva ¬ømerece la pena para proyectos peque√±os de bajas exigencias?

<a href="https://medium.com/@karandeepsinghworkspace/redux-toolkit-vs-zustand-vs-overwatch-who-wins-the-performance-benchmark-e090a504b1e7" target="_blank noreferrer noopener">Redux Toolkit vs Zustand vs Overwatch: Who wins the performance benchmark?</a>

#### 4. Herramientas auxiliares
Pregunt√© a Gemini 3 algunas cosas respecto a si Fabric.js o Konva ofrec√≠an funcionalidades para organizar capas o elementos de la UI f√°cilmente con Drag & Drop y me recomend√≥ utilizar <span class='text-[--tangerine]'>SortableJS</span>.

Supongo que m√°s adelante cuando llegue al tema lo investigar√© mejor, pero por ahora vi este otro art√≠culo que compara tres bibliotecas para manejar drag & drop en React.

<a href="https://npm-compare.com/es-ES/react-dnd,sortablejs,vuedraggable" target="_blank noreferrer noopener">react-dnd, sortablejs, vuedraggable</a>

Por √∫ltimo, mientras hac√≠a pruebas empec√© a usar los iconos <span class='text-[--tangerine]'>lucide-react</span> as√≠ que en este proyecto los seguir√© usando.

### Primeros pasos del desarrollo

Lo b√°sico, creo el proyecto con Vite y un template de React con TypeScript.
Luego, instalar Fabric.js, Zustand, Tailwind y lucide-react.

<CodeTabs 
  items={[
    { 
      label: 'npm', 
      code: 'npm create vite@latest -- --template react-ts\nnpm install fabric zustand tailwindcss lucide-react', 
      lang: 'bash' 
    },
    { 
      label: 'pnpm', 
      code: 'pnpm create vite@latest -- --template react-ts\npnpm add fabric zustand tailwindcss lucide-react', 
      lang: 'bash' 
    },
    { 
      label: 'yarn', 
      code: 'yarn create vite --template react-ts\nyarn add fabric zustand tailwindcss lucide-react', 
      lang: 'bash' 
    }
  ]}
/>

Respecto a Tailwind, voy a explicar un momento los siguientes pasos. Desde la versi√≥n 4 Tailwind se integra con Vite mediante un plugin, una vez instalado tailwindcss, donde antes hab√≠a que inicializarlo ahora hay que instalar el plugin. Ejecutaremos este comando para instalarlo como dependencia de desarrollo con -D.

<CodeTabs 
  items={[
    { label: 'npm', code: 'npm install -D @tailwindcss/vite', lang: 'bash' },
    { label: 'pnpm', code: 'pnpm add -D @tailwindcss/vite', lang: 'bash' },
    { label: 'yarn', code: 'yarn add -D @tailwindcss/vite', lang: 'bash' }
  ]}
/>
Una vez instalado el plugin, hay que a√±adirlo al archivo de configuraci√≥n de Vite haciendo el import de yailwind y a√±adi√©ndolo como plugin.

<CodeTabs 
  items={[
    { 
      label: 'vite.config.ts', 
      code: `import tailwindcss from '@tailwindcss/vite';

export default defineConfig({
  plugins: [tailwindcss(), ...],
});`, 
      lang: 'ts' 
    }
  ]}
/>

El resultado en la actualidad es algo como esto:

<CodeTabs 
  items={[
    { 
      label: 'vite.config.ts', 
      code: `import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite' // Importamos el plugin

export default defineConfig({
    plugins: [
      react(),
      tailwindcss(),  // Y lo a√±adimos aqu√≠. Plugins que modifican el 
                      // build (como React o Tailwind) van aqu√≠.
    ],
})`, 
      lang: 'ts' 
    }
  ]}
/>

Y ahora reemplaza el contenido de `index.css` por el siguiente import:

<CodeTabs 
  items={[
    { 
      label: 'index.css', 
      code: `@import "tailwindcss"`, 
      lang: 'css' 
    }
  ]}
/>

Ya llegamos a los √∫ltimos pasos, hay que limpiar un poco el c√≥digo por defecto que genera la plantilla de Vite. Solo tenemos que eliminar el archivo `src/App.css`, limpiar el archivo `src/App.tsx` y asegurarnos de que `src/main.tsx` contenga lo b√°sico.

<CodeTabs 
  items={[
    { 
      label: 'App.tsx',
      code: `function App() {
    return (
      <div>
        <h1 className="text-3xl font-bold underline">Star Draw</h1>
      </div>
    )
  }

export default App`, 
      lang: 'tsx' 
    },
    { 
      label: 'main.tsx', 
      code: `import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
`, 
      lang: 'tsx' 
    }
  ]}
/>

Borrar√© tambi√©n los archivos `assets/react.svg` y `assets/vite.svg`.

¬°Bien! Y con esto tengo todo el proceso inicial de crear un proyecto en Vite + React dej√°ndolo completamente limpio. Aqu√≠ quedar√° para cuando cualquiera quiera consultarlo. Esto no es una gu√≠a, pero pod√©is aprender conmigo.

Por ahora lo dejo aqu√≠, en el pr√≥xima entrada me pondr√© con la estructura del proyecto creando las carpetas y archivos principales y crear el Canvas con Fabric.js.