---
pubDate: '2025-12-26T10:00:00Z'
tags: ['typescript', 'patterns', 'advanced']
draft: false
new: true
end: true
title: 'TypeScript #13: Patrons Reals'
description: La traca final. Sobrec√†rrega de funcions, Builders i com crear la teva pr√≤pia mini-llibreria type-safe.
series: typescript-basics
seriesTitle: Fonaments de TypeScript
seriesDescription: Apr√®n TypeScript des de zero aprofundint en conceptes com infer√®ncia i tipus.
lang: ca
---

import CodeTabs from '../../../../components/mdx/CodeTabs.astro';
import Callout from '../../../../components/mdx/Callout.astro';
import TSEditor from '../../../../components/learn/TSEditor.tsx';

Hem arribat al final. Si hem seguit tot fins aqu√≠, ja sabem m√©s TypeScript que el 80% dels desenvolupadors.
Per acabar, vegem alguns patrons que ens faran semblar uns mags.

## Sobrec√†rrega de Funcions (Function Overloads)

A vegades una funci√≥ pot fer coses molt diferents segons qu√® li passem.

Si passem un `string`, retorna un `array de car√†cters` (`string[]`).
Si passem un `number`, retorna `boolean`.

Com tipem aix√≤? Amb "Overloads". Escrivim la firma diverses vegades abans de la implementaci√≥ real.

<CodeTabs items={[
    {
		label: 'TypeScript',
		code: `// Sobrec√†rrega 1 (Firma p√∫blica)
function convertir(input: string): string[];
// Sobrec√†rrega 2 (Firma p√∫blica)
function convertir(input: number): boolean;

// Implementaci√≥ (Privada - ha de ser prou √†mplia per cobrir tot)
function convertir(input: string | number): any {
    if (typeof input === "string") {
        return input.split("");
    } else {
        return input > 10;
    }
}

const a = convertir("Hola"); // TS sap que 'a' √©s string[]
const b = convertir(50);     // TS sap que 'b' √©s boolean`,
		lang: 'typescript'
    }
]} />

## Creant una Mini-Store (Tipus Zustand/Redux)

Ajuntem **Generics**, **Constraints** i **Partial** per crear un gestor d'estat.

<CodeTabs items={[
    {
		label: 'TypeScript',
		code: `class Store<T extends object> {
    private state: T;

    constructor(initialState: T) {
        this.state = initialState;
    }

    getState(): T {
        return this.state;
    }

    // Usem Partial<T> per permetre actualitzar nom√©s trossos
    setState(newState: Partial<T>) {
        this.state = { ...this.state, ...newState };
    }
}

interface AppState {
    user: string;
    darkMode: boolean;
}

const myStore = new Store<AppState>({ 
    user: "Alice", 
    darkMode: false 
});

myStore.setState({ darkMode: true }); // ‚úÖ
myStore.setState({ user: 123 });      // ‚ùå Error de tipus`,
		lang: 'typescript'
    }
]} />

## Comiat

TypeScript t√© una corba d'aprenentatge. Al principi sembla que nom√©s ens posa traves i ens obliga a escriure m√©s.
Per√≤ arriba un dia en qu√® refactoritzem 20 fitxers, TypeScript ens crida 5 errors, els corregim, i en executar... **tot funciona a la primera**.

Segur que ja coneixes aquest "subid√≥n" en solucionar un error que t'ha costat dies. I el molt millor quan el soluciones perqu√® ja saps la resposta d'avantm√† sense donar-te cops de cap.

La teoria est√† molt b√©, per√≤ el mestratge es forja picant codi. T'animo encaridament a que no et quedis nom√©s amb la lectura: agafa els exemples de cada cap√≠tol, trenca coses, intenta replicar-los des de zero fins i tot mirant, √©s igual, posa't a prova. Nom√©s usant tot aix√≤ i barallant-te arreglant errors interioritzar√†s com funciona TypeScript.

Dona-li canya! üí™ Gr√†cies per llegir! üöÄ
