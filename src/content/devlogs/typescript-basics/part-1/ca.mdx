---
pubDate: '2025-12-14T20:00:00Z'
tags: ['typescript', 'inference', 'basics']
draft: false
new: false
title: 'TypeScript #1: La Inferencia treballa per tu'
description: Per què escriure tipus quan TypeScript ja els sap? Entenent const vs let i la inferència automàtica.
series: typescript-basics
seriesTitle: Fonaments de TypeScript
seriesDescription: Aprèn TypeScript des de zero aprofundint en conceptes com inferència i tipus.
lang: ca
---

import CodeTabs from '../../../../components/mdx/CodeTabs.astro';
import Callout from '../../../../components/mdx/Callout.astro';
import TSEditor from '../../../../components/learn/TSEditor.tsx';

export const age = new Date().getFullYear() - 1985

El primer pel que començarem és entendre que **TypeScript és llest. No cal explicar-li l'obvi.**

## La Inferència de Tipus

Molts devs (com jo) que venen de llenguatges fortament tipats (com C, Java o C# antics) és normal que estiguem acostumats a la idea de tipar-ho tot.

<CodeTabs
  status="error"
  items={[
    {
		label: 'example.ts',
		code: `// ❌ Redundant (Boilerplate innecessari)
const userName: string = "Arnau";
const userAge: number = ${age};
const isAdmin: boolean = true;`,
		lang: 'typescript'
    }
]} />

TypeScript ja sap que "Arnau" és un string. No cal que l'hi juris.

<CodeTabs
  status="success"
  items={[
  {
    label: 'example.ts',
    code: `// ✅ Perfecte (Net i llegible)
const userName = "Arnau"; // TS infereix: string (o literal "Arnau", veurem això després)
const userAge = ${age};       // TS infereix: number
const isAdmin = true;     // TS infereix: boolean`,
    lang: 'typescript'
    }
  ]} />

Això es diu **Inferència de Tipus**. Deixes que TS dedueixi el tipus pel valor inicial.

## `const` vs `let`: La diferència clau

Aquí és on la cosa es posa interessant i on TS brilla.

### Amb `let` (Variables mutables)
Quan uses `let`, TS assumeix que canviaràs el valor, així que infereix el tipus primitiu "general".

<CodeTabs items={[
  {
  label: 'TypeScript',
  code: `// TS amb això entén: "Ah, 'status' és un STRING i a més canviarà a qualsevol altre string".
let status = "pending";

status = "success"; // ✅ Bé
status = "error";   // ✅ Bé

status = 123;       // ❌ Si ho intentes et retornarà un error.
// No pots ficar un número en un string.`,
  lang: 'typescript'
  }
]} />

### Amb `const` (Constants)
Quan uses `const`, TS sap que aquest valor **mai canviarà**. Així que pot ser molt més específic.

<CodeTabs items={[
  {
    label: 'TypeScript',
    code: `const method = "GET";
// TS diu: "Això no és només un string. És L'string 'GET'".
// El tipus literal és "GET".
`,
  lang: 'typescript'
  }
]} />

Això sembla una ximpleria ara, però és la base per entendre per què a vegades TS es queixa que `"GET"` no és assignable a `string` (o viceversa) en configuracions complexes.

## Quan SÍ anotar tipus

Llavors, si TS ho infereix, mai és necessari posar tipus? No, hi ha casos on és necessari:

1.  **Quan la inferència falla o és molt àmplia**:

Des del meu punt de vista amb poca experiència, deixaria que TS infereixi any (o el posaria jo mateix) en casos en què no sé el que passarà, sigui per errors o que la resposta pugui ser molt àmplia.

<CodeTabs items={[
  {
    label: 'TypeScript',
    code: `// TS infereix 'any' si no està configurat en mode 'strict' (que t'obliga a anotar tipus sempre)
let data; 
data = fetchSomething(); // Pots passar-li el que vulguis i TS no es queixa.`,
    lang: 'typescript'
  }
]} />

Però ull amb any, perquè li estàs traient a TS tot el seu propòsit. L'ideal seria no veure't obligat a utilitzar-lo.

2.  **En paràmetres de funcions** (Aquí és obligatori!):

<CodeTabs items={[
  {
    label: 'TypeScript',
    code: `// ❌ TS no pot llegir la teva ment ni saber qui cridarà a això
function greet(person) {
    ...
}

// ✅ Aquí defineixes el contracte
function greet(person: string) {
    ...
}`, 
    lang: 'typescript'
  }
]} />

3.  **Per definir contractes de retorn explícits**:
    A vegades vols assegurar-te que la teva funció retorna X, encara que infereixi Y.

## Resum de la Part 1

*   **Menys és més**: Si TS pot inferir-ho, no ho escriguis. El teu codi serà més net.
*   **Variable (`let`)** = Tipus General (`string`, `number`).
*   **Constant (`const`)** = Tipus Literal (El valor exacte).

A la **Part 2**, mirarem com usar aquests tipus literals al nostre favor amb les **Unions**, i com dir-li a TS: *"Aquesta variable només pot ser 'admin' o 'user', res més"*.

## Experimenta!

Aquí tens un editor de TypeScript real corrent al teu navegador per provar el que has après.

<TSEditor
  client:only="react"
  showConsole={true}
  files={{
    'main.ts': `console.log("Hello world!");
`
  }}
/>
